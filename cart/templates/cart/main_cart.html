{% extends "base1.html" %}

{% load static %}

{% block title %} Cart Page {% endblock %}
<!-- {% block head %} {% endblock %} -->



{% block content %}

<div class="mx-2 my-2">

    <main class="container my-2 py-2">
        <!-- Page Title -->
        <div class="text-center mb-5 py-5">
            <h1 class="fw-light">Shopping Cart</h1>
        </div>
    
        <div class="row py-5">
            <!-- Left Column: Cart Items -->
            <div class="col-lg-8  border-start border-end border py-3">
                <!-- Cart Table Headers (Visible on larger screens) -->
                <div class="row d-none d-md-flex cart-header mb-3 ">
                    <div class="col-md-5"><h6 class="text-muted">Product</h6></div>
                    <div class="col-md-2 text-center"><h6 class="text-muted">Price</h6></div>
                    <div class="col-md-3 text-center"><h6 class="text-muted">Quantity</h6></div>
                    <div class="col-md-2 text-end"><h6 class="text-muted">Total</h6></div>
                </div>
    
                <!-- Cart Item 1 -->
                <div class="row cart-item align-items-center border border-1 rounder">
                    <div class="col-md-5">
                        <div class="d-flex align-items-center">
                            <img src="https://res.cloudinary.com/dbufuuut7/image/upload/v1760109421/products/mq2mfnb9kgyzy52lhlg5.png" alt="Product Image" class="cart-item-img me-3">
                            <div>
                                <p class="mb-0">Papergrid – SHORT NOTE</p>
                                <a href="#" class="remove-link">Remove</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2 text-center price-col">Rs. 30</div>
                    <div class="col-md-3">
                        <div class="input-group quantity-selector mx-auto">
                            <button class="btn btn-outline-secondary" type="button">-</button>
                            <input type="text" class="form-control text-center" value="1">
                            <button class="btn btn-outline-secondary" type="button">+</button>
                        </div>
                    </div>
                    <div class="col-md-2 text-end total-col"><strong>Rs. 30</strong></div>
                </div>
                <hr class="cart-divider">
    
                <!-- Cart Item 2 -->
                <div class="row cart-item align-items-center border border-1 rounder">
                    <div class="col-md-5">
                        <div class="d-flex align-items-center">
                            <img src="https://res.cloudinary.com/dbufuuut7/image/upload/v1760154643/products/azkm4byzkqlah8tz8rhi.png" alt="Product Image" class="cart-item-img me-3">
                            <div>
                                <p class="mb-0">Papergrid – A4 Notebook</p>
                                <a href="#" class="remove-link">Remove</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2 text-center price-col">Rs. 80</div>
                    <div class="col-md-3">
                        <div class="input-group quantity-selector mx-auto">
                            <button class="btn btn-outline-secondary" type="button">-</button>
                            <input type="text" class="form-control text-center" value="1">
                            <button class="btn btn-outline-secondary" type="button">+</button>
                        </div>
                    </div>
                    <div class="col-md-2 text-end total-col"><strong>Rs. 80</strong></div>
                </div>
                <hr class="cart-divider">
    
                <!-- Cart Item 3 -->
                <div class="row cart-item align-items-center border border-1 rounder">
                    <div class="col-md-5">
                        <div class="d-flex align-items-center">
                            <img src="https://res.cloudinary.com/dbufuuut7/image/upload/v1760109484/products/faifyjprcn0hlry03axu.png" alt="Product Image" class="cart-item-img me-3">
                            <div>
                                <p class="mb-0">Papergrid – KING SIZE</p>
                                <a href="#" class="remove-link">Remove</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2 text-center price-col">Rs. 65</div>
                    <div class="col-md-3">
                        <div class="input-group quantity-selector mx-auto">
                            <button class="btn btn-outline-secondary" type="button">-</button>
                            <input type="text" class="form-control text-center" value="1">
                            <button class="btn btn-outline-secondary" type="button">+</button>
                        </div>
                    </div>
                    <div class="col-md-2 text-end total-col"><strong>Rs. 65</strong></div>
                </div>
                <hr class="cart-divider">
    
                <!-- Add Order Note -->
                <div class="mt-4">
                    <label for="orderNote" class="form-label">Add Order Note</label>
                    <textarea class="form-control" id="orderNote" rows="4" placeholder="How can we help you?"></textarea>
                </div>
            </div>
    
            <!-- Right Column: Order Summary -->
            <div class="col-lg-4 mt-4 mt-lg-0">
                <div class="summary-card">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="mb-0">Estimate Shipping</h5>
                        <i class="fas fa-plus"></i>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between align-items-center my-3">
                        <h5 class="mb-0">Subtotal</h5>
                        <h5 class="mb-0">Rs. 175.00</h5>
                    </div>
                    <p class="text-muted small">Taxes and <a href="#" class="text-dark">shipping</a> calculated at checkout.</p>
                    <div class="form-check my-3">
                        <input class="form-check-input" type="checkbox" value="" id="termsCheck">
                        <label class="form-check-label small" for="termsCheck">
                            I agree with the <a href="#" class="text-dark fw-bold">terms and conditions</a>
                        </label>
                    </div>
                    <button class="btn btn-dark w-100 py-2">Check out</button>
                    <div class="text-center mt-3">
                        <p class="small mb-2">Guarantee Safe Checkout</p>
                        <!-- <div class="payment-icons">
                            <i class="fab fa-cc-visa"></i>
                            <i class="fab fa-cc-paypal"></i>
                            <i class="fab fa-cc-mastercard"></i>
                            <i class="fab fa-cc-amex"></i>
                            <i class="fab fa-cc-amazon-pay"></i>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

{% endblock %}

{% block script %}

<!-- <script>
    const btn = document.getElementById('addToCartBtn');
    const stock = parseInt("{{ main_variant.stock|default:0 }}", 10);
  
    if (stock <= 0) {
      btn.classList.add('disabled');
      btn.setAttribute('aria-disabled', 'true');
      btn.removeAttribute('href');
      btn.innerText = 'Out of stock';
    }

    document.addEventListener("DOMContentLoaded", () => {
        const minusBtn = document.getElementById("minus-btn");
        const plusBtn  = document.getElementById("plus-btn");
        const input    = document.getElementById("quantity-input");
        // Replace with actual stock value from server
        //const stock    = 10;  
        const stock = parseInt("{{ main_variant.stock|default:0 }}", 10);
      
        // Set the max attribute
        input.max = stock;
      
        minusBtn.addEventListener("click", () => {
          let current = parseInt(input.value, 10);
          if (isNaN(current)) current = 0;
          if (current > parseInt(input.min, 10)) {
            input.value = current - 1;
          }
        });
      
        plusBtn.addEventListener("click", () => {
          let current = parseInt(input.value, 10);
          if (isNaN(current)) current = 0;
          if (current < stock) {
            input.value = current + 1;
          } else {
            // optionally show a message: “Max stock reached”
            input.value = stock;
          }
        });
      
        // Also handle direct input editing
        input.addEventListener("change", () => {
          let val = parseInt(input.value, 10);
          if (isNaN(val) || val < parseInt(input.min,10)) {
            input.value = input.min;
          } else if (val > stock) {
            input.value = stock;
          }
        });
      });

</script> -->
  

{% endblock %}